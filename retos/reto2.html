<html>

<head>
    <title>retos JavaScript</title>
</head>

<body>
    <h1>retos JavaScript</h1>
    <script>
        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var carrakos = ["Chevrolet", "Tesla", "BMW", ["Honda", "Infiniti", ["Lexus", "Mercedes", "Kia"], "Hyunday"], ["Mazda", "Mercedes", "Jeep", ["KTM", "Nissan", "Isuzu"]]];
        //Alguien sabe hacer una lista única de coches con los dos arrays (sin repeticiones)?

        let listaUnica = [];
        // Lleno la lista unica
        listaUnica.push(cars.flat(2).filter((v) => listaUnica.flat(2).find((v2) => v2 == v) === undefined));
        listaUnica.push(carrakos.flat(2).filter((v) => listaUnica.flat(2).find((v2) => v2 == v) === undefined));
        listaUnica = listaUnica.flat();
        
        // Hago console.log para comprobar
        console.log("Juntar listas:");
        console.log("Cars: ");
        console.log(cars.flat(Infinity));
        console.log("Carrakos" );
        console.log(carrakos.flat(Infinity));
        console.log("Lista Unica");
        console.log(listaUnica);

        //Alguien sabría decirme los coches de carrakos que no estén en cars?
        let carrakosNoCars = carrakos.flat(2).filter((v) => cars.flat(2).find((v2) => v2 == v) === undefined);
        // Hago console.log para comprobar
        console.log("Carrokos que no son cars:");
        console.log(cars.flat(2));
        console.log(carrakos.flat(2));
        console.log(carrakosNoCars);

        var cars = ["Saab", "Volvo", "BMW", ["Honda", "Toyota", ["Lexus", "Mercedes", "Lada"], "Hyunday"]];
        var buddies = [{ firstName: "Chuck", lastName: "Norris", car: "Honda" }, { firstName: "Yakie", lastName: "Chang", car: "BMV" }, { firstName: "Bruce", lastName: "Lee", car: "Honda" }, { firstName: "Steven", lastName: "Seagal", car: "Lada" }];
        
        console.log("Buddies:");
        console.log(buddies);

        //-Nombre y apellidos de los buddies que usan un Honda
        let buddiesUsanHonda = buddies.filter((v) => v.car == "Honda").reduce((v1, v2) => v1.firstName + " " + v1.lastName + ", " + v2.firstName + " " + v2.lastName);
        console.log("Buddies que usan honda:");
        console.log("Los buddies que usan Honda son: " + buddiesUsanHonda);

        //-Marcas utilizadas por los buddies
        let marcasUsadasBuddies = listaUnica.flat(2).filter((v) => buddies.find((v2) => v2.car == v) != undefined);
        console.log("Marcas usadas por los buddies:");
        console.log(marcasUsadasBuddies);

        //-Marcas no utilizadas por los buddies.
        let marcasNoUsadasBuddies = listaUnica.flat(2).filter((v) => buddies.find((v2) => v2.car == v) === undefined);
        console.log("Marcas no usadas por los buddies:");
        console.log(marcasNoUsadasBuddies);

        //-Cuantas marcas han sido utilizadas
        let marcasUsadas = marcasUsadasBuddies.length;
        console.log("Numero de marcas usadas por los buddies:");
        console.log(marcasUsadas);



        //-Cuantas marcas no han sido utilizadas
        let marcasNoUsadas = marcasNoUsadasBuddies.length;
        console.log("Numero de marcas no usadas por los buddies:");
        console.log(marcasNoUsadas);


    </script>
</body>

</html>